
[TestExamplePrintConfig - 1]
config.MainConfig{
  Version:      1,
  Destinations: map[string]config.DestinationConfigV1{
    "local": config.DestinationConfigV1{
      Backend: "rsync",
      Options: map[string]interface {}{
        "destination-dir": "./dist/backups/local",
      },
    },
    "local-restic": config.DestinationConfigV1{
      Backend: "restic",
      Options: map[string]interface {}{
        "env": map[string]interface {}{
          "RESTIC_PASSWORD": "***",
        },
        "repo": "./dist/backups/restic-local",
      },
    },
    "s3": config.DestinationConfigV1{
      Backend: "restic",
      Options: map[string]interface {}{},
    },
  },
  Jobs: map[string]config.JobConfigV1{
    "nextcloud": config.JobConfigV1{
      Recipe:   "nextcloud",
      BackupTo: []string{
        "local",
        "s3",
      },
      OnSuccess: (*config.HookV1)(nil),
      OnFailure: (*config.HookV1)(nil),
    },
    "paperless": config.JobConfigV1{
      Recipe:   "paperless",
      BackupTo: []string{
        "s3",
      },
      OnSuccess: (*config.HookV1)(nil),
      OnFailure: (*config.HookV1)(nil),
    },
    "test": config.JobConfigV1{
      Recipe:   "examples",
      BackupTo: []string{
        "local",
      },
      OnSuccess: (*config.HookV1)(nil),
      OnFailure: (*config.HookV1)(nil),
    },
    "test-restic": config.JobConfigV1{
      Recipe:   "examples",
      BackupTo: []string{
        "local-restic",
      },
      OnSuccess: (*config.HookV1)(nil),
      OnFailure: (*config.HookV1)(nil),
    },
  },
  Secrets: map[string]config.SecretConfigV1{
    "localResticPassword": config.SecretConfigV1{
      FromFile: "",
      Literal:  "***",
    },
  },
}

---

[TestExampleListBackends - 1]
restic ([root]/examples/config/share/standard-backups/backends/restic.yaml)
  version: v1 (protocol=v1)
  description: (no description)
  bin: ./dist/standard-backups-restic-backend

rsync ([root]/examples/config/share/standard-backups/backends/rsync.yaml)
  version: v1 (protocol=v1)
  description: (no description)
  bin: ./dist/standard-backups-rsync-backend

---

[TestExampleListRecipes - 1]
examples ([root]/examples/config/share/standard-backups/recipes/internal-code.yaml)
  version: v1
  description: Backs up all the example files in this repository
  paths: 
    - examples
  exclude: 
    - config.yaml

nextcloud ([root]/examples/config/share/standard-backups/recipes/nextcloud.yaml)
  version: v1
  description: (no description)
  paths: 
    - /path/to/nextcloud
  before: (bash)
    occ maintenance:mode --on
    echo maintenance mode is ON
  after: (bash)
    occ maintenance:mode --off
    echo maintenance mode is OFF

paperless ([root]/examples/config/share/standard-backups/recipes/paperless.yaml)
  version: v1
  description: (no description)
  paths: 
    - /path/to/paperless

---
